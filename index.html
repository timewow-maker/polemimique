<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Le Fil ‚Äî R√©sum√©s d'actualit√©</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Source+Serif+4:ital,opsz,wght@0,8..60,300;0,8..60,400;0,8..60,600;1,8..60,300;1,8..60,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />

  <style>
    /* ‚îÄ‚îÄ VARIABLES ‚îÄ‚îÄ */
    :root {
      --bg:        #f5f1eb;
      --surface:   #ffffff;
      --border:    #d9d0c0;
      --text:      #1a1612;
      --muted:     #7a6f60;
      --accent:    #b5341a;
      --accent-bg: #fdf3f0;
      --tag-bg:    #ede8e0;
      --shadow:    0 2px 12px rgba(0,0,0,.08);
    }
    [data-theme="dark"] {
      --bg:        #141210;
      --surface:   #1e1b18;
      --border:    #2e2a25;
      --text:      #e8e0d4;
      --muted:     #8a7f72;
      --accent:    #d4644a;
      --accent-bg: #2a1a14;
      --tag-bg:    #272320;
      --shadow:    0 2px 16px rgba(0,0,0,.35);
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html { font-size: 16px; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Source Serif 4', Georgia, serif;
      transition: background .3s, color .3s;
      min-height: 100vh;
    }

    /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
    header {
      background: var(--surface);
      border-bottom: 3px solid var(--text);
      position: sticky; top: 0; z-index: 100;
      box-shadow: var(--shadow);
    }
    .header-top {
      max-width: 1100px; margin: 0 auto;
      padding: 18px 24px 14px;
      display: flex; align-items: center; justify-content: space-between;
      gap: 16px;
    }
    .masthead {
      display: flex; flex-direction: column; line-height: 1;
    }
    .masthead-name {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 900;
      letter-spacing: -.02em;
      color: var(--text);
    }
    .masthead-tagline {
      font-family: 'DM Sans', sans-serif;
      font-size: .72rem;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: var(--muted);
      margin-top: 4px;
    }
    .header-actions {
      display: flex; align-items: center; gap: 12px;
    }
    /* Search */
    .search-wrap {
      position: relative;
    }
    .search-input {
      background: var(--tag-bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 8px 36px 8px 12px;
      font-family: 'DM Sans', sans-serif;
      font-size: .85rem;
      color: var(--text);
      width: 220px;
      transition: border-color .2s, width .3s;
      outline: none;
    }
    .search-input::placeholder { color: var(--muted); }
    .search-input:focus { border-color: var(--accent); width: 260px; }
    .search-icon {
      position: absolute; right: 10px; top: 50%; transform: translateY(-50%);
      color: var(--muted); pointer-events: none; font-size: 14px;
    }
    /* Theme toggle */
    .theme-btn {
      background: var(--tag-bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      width: 38px; height: 38px;
      cursor: pointer; display: grid; place-items: center;
      font-size: 16px; transition: background .2s;
      color: var(--text);
    }
    .theme-btn:hover { background: var(--border); }

    /* Date strip */
    .date-strip {
      border-top: 1px solid var(--border);
      text-align: center;
      padding: 5px;
      font-family: 'DM Sans', sans-serif;
      font-size: .72rem;
      letter-spacing: .1em;
      color: var(--muted);
      background: var(--bg);
    }

    /* ‚îÄ‚îÄ NAV CATEGORIES ‚îÄ‚îÄ */
    nav {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
    }
    .nav-inner {
      max-width: 1100px; margin: 0 auto;
      padding: 0 24px;
      display: flex; align-items: center; gap: 2px;
      overflow-x: auto;
      scrollbar-width: none;
    }
    .nav-inner::-webkit-scrollbar { display: none; }
    .cat-btn {
      font-family: 'DM Sans', sans-serif;
      font-size: .78rem;
      font-weight: 500;
      letter-spacing: .06em;
      text-transform: uppercase;
      padding: 11px 16px;
      border: none; background: none; cursor: pointer;
      color: var(--muted);
      border-bottom: 3px solid transparent;
      transition: color .2s, border-color .2s;
      white-space: nowrap;
    }
    .cat-btn:hover { color: var(--text); }
    .cat-btn.active { color: var(--accent); border-bottom-color: var(--accent); }

    /* ‚îÄ‚îÄ MAIN LAYOUT ‚îÄ‚îÄ */
    main {
      max-width: 1100px; margin: 0 auto;
      padding: 36px 24px 60px;
    }

    /* No results */
    .no-results {
      text-align: center; padding: 80px 20px;
      color: var(--muted);
      font-style: italic;
      font-size: 1.1rem;
      display: none;
    }

    /* ‚îÄ‚îÄ HERO CARD (first article) ‚îÄ‚îÄ */
    .hero-card {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
      background: var(--surface);
      border: 1px solid var(--border);
      border-top: 4px solid var(--accent);
      box-shadow: var(--shadow);
      margin-bottom: 32px;
      transition: transform .2s;
      cursor: pointer;
    }
    .hero-card:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(0,0,0,.12); }
    .hero-img {
      min-height: 280px;
      background: linear-gradient(135deg, #c9b49a 0%, #a08060 100%);
      display: flex; align-items: center; justify-content: center;
      overflow: hidden;
      position: relative;
    }
    .hero-img-placeholder {
      font-size: 4rem; opacity: .5;
    }
    .hero-body {
      padding: 32px 36px;
      display: flex; flex-direction: column; justify-content: center;
    }
    .hero-category {
      font-family: 'DM Sans', sans-serif;
      font-size: .7rem;
      font-weight: 500;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 12px;
    }
    .hero-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.3rem, 2.5vw, 1.9rem);
      font-weight: 700;
      line-height: 1.25;
      color: var(--text);
      margin-bottom: 14px;
    }
    .hero-summary {
      font-size: .95rem;
      line-height: 1.65;
      color: var(--muted);
      margin-bottom: 20px;
    }
    .hero-meta {
      font-family: 'DM Sans', sans-serif;
      font-size: .75rem;
      color: var(--muted);
      display: flex; align-items: center; gap: 8px;
    }
    .hero-meta span::before { content: '¬∑'; margin-right: 8px; }
    .hero-meta span:first-child::before { content: ''; margin: 0; }

    /* ‚îÄ‚îÄ GRID OF CARDS ‚îÄ‚îÄ */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    /* ‚îÄ‚îÄ ARTICLE CARD ‚îÄ‚îÄ */
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      display: flex; flex-direction: column;
      transition: transform .2s, box-shadow .2s;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .card::before {
      content: '';
      position: absolute; left: 0; top: 0; bottom: 0;
      width: 3px;
      background: var(--accent);
      transform: scaleY(0);
      transition: transform .2s;
      transform-origin: top;
    }
    .card:hover { transform: translateY(-3px); box-shadow: var(--shadow); }
    .card:hover::before { transform: scaleY(1); }

    .card-body { padding: 20px 22px; flex: 1; }
    .card-category {
      font-family: 'DM Sans', sans-serif;
      font-size: .65rem;
      font-weight: 500;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 8px;
    }
    .card-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.1rem;
      font-weight: 700;
      line-height: 1.3;
      color: var(--text);
      margin-bottom: 10px;
    }
    .card-summary {
      font-size: .875rem;
      line-height: 1.6;
      color: var(--muted);
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .card-footer {
      padding: 12px 22px;
      border-top: 1px solid var(--border);
      display: flex; justify-content: space-between; align-items: center;
    }
    .card-date {
      font-family: 'DM Sans', sans-serif;
      font-size: .72rem;
      color: var(--muted);
    }
    .tag {
      font-family: 'DM Sans', sans-serif;
      font-size: .65rem;
      font-weight: 500;
      letter-spacing: .06em;
      text-transform: uppercase;
      background: var(--tag-bg);
      color: var(--muted);
      border-radius: 2px;
      padding: 3px 8px;
    }

    /* ‚îÄ‚îÄ SECTION DIVIDER ‚îÄ‚îÄ */
    .section-head {
      display: flex; align-items: center; gap: 14px;
      margin-bottom: 20px; margin-top: 36px;
    }
    .section-head h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.1rem; font-weight: 700;
      white-space: nowrap;
    }
    .section-line {
      flex: 1; height: 1px; background: var(--border);
    }

    /* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
    .modal-overlay {
      position: fixed; inset: 0;
      background: rgba(0,0,0,.5);
      backdrop-filter: blur(4px);
      display: none; place-items: center;
      z-index: 200; padding: 24px;
    }
    .modal-overlay.open { display: grid; }
    .modal {
      background: var(--surface);
      max-width: 680px; width: 100%;
      max-height: 85vh; overflow-y: auto;
      border-top: 4px solid var(--accent);
      padding: 40px;
      animation: slideUp .25s ease;
      position: relative;
    }
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to   { transform: translateY(0);    opacity: 1; }
    }
    .modal-close {
      position: absolute; top: 16px; right: 20px;
      background: none; border: none; font-size: 1.4rem;
      cursor: pointer; color: var(--muted);
      transition: color .2s;
    }
    .modal-close:hover { color: var(--text); }
    .modal-category {
      font-family: 'DM Sans', sans-serif;
      font-size: .7rem; font-weight: 500; letter-spacing: .14em;
      text-transform: uppercase; color: var(--accent); margin-bottom: 12px;
    }
    .modal-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.4rem, 3vw, 2rem);
      font-weight: 700; line-height: 1.25;
      margin-bottom: 16px;
    }
    .modal-meta {
      font-family: 'DM Sans', sans-serif;
      font-size: .78rem; color: var(--muted);
      margin-bottom: 24px;
      padding-bottom: 24px;
      border-bottom: 1px solid var(--border);
    }
    .modal-body {
      font-size: 1rem; line-height: 1.8;
      color: var(--text);
    }
    .modal-body p + p { margin-top: 1em; }

    /* ‚îÄ‚îÄ ADD FORM ‚îÄ‚îÄ */
    .add-btn {
      position: fixed; bottom: 32px; right: 32px;
      background: var(--accent);
      color: #fff;
      border: none; border-radius: 50%;
      width: 54px; height: 54px;
      font-size: 1.6rem; cursor: pointer;
      box-shadow: 0 4px 20px rgba(0,0,0,.25);
      display: grid; place-items: center;
      transition: transform .2s, box-shadow .2s;
      z-index: 150;
    }
    .add-btn:hover { transform: scale(1.08); box-shadow: 0 8px 28px rgba(0,0,0,.3); }

    .form-overlay {
      position: fixed; inset: 0;
      background: rgba(0,0,0,.5); backdrop-filter: blur(4px);
      display: none; place-items: center;
      z-index: 200; padding: 24px;
    }
    .form-overlay.open { display: grid; }
    .form-modal {
      background: var(--surface);
      max-width: 600px; width: 100%;
      border-top: 4px solid var(--accent);
      padding: 36px 40px;
      animation: slideUp .25s ease;
      position: relative;
      max-height: 90vh; overflow-y: auto;
    }
    .form-modal h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem; font-weight: 700;
      margin-bottom: 24px;
    }
    .form-group { margin-bottom: 18px; }
    .form-label {
      font-family: 'DM Sans', sans-serif;
      font-size: .78rem; font-weight: 500; letter-spacing: .06em;
      text-transform: uppercase; color: var(--muted);
      display: block; margin-bottom: 6px;
    }
    .form-input, .form-select, .form-textarea {
      width: 100%;
      background: var(--bg);
      border: 1px solid var(--border);
      color: var(--text);
      font-family: 'Source Serif 4', serif;
      font-size: .95rem;
      padding: 10px 14px;
      border-radius: 3px;
      outline: none;
      transition: border-color .2s;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus {
      border-color: var(--accent);
    }
    .form-textarea { resize: vertical; min-height: 120px; }
    .form-select { cursor: pointer; }
    .submit-btn {
      width: 100%;
      background: var(--accent); color: #fff;
      border: none; border-radius: 3px;
      padding: 13px;
      font-family: 'DM Sans', sans-serif;
      font-size: .85rem; font-weight: 500; letter-spacing: .08em;
      text-transform: uppercase; cursor: pointer;
      margin-top: 8px;
      transition: opacity .2s;
    }
    .submit-btn:hover { opacity: .88; }

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    footer {
      border-top: 2px solid var(--border);
      text-align: center;
      padding: 24px;
      font-family: 'DM Sans', sans-serif;
      font-size: .75rem;
      color: var(--muted);
      background: var(--surface);
    }
    footer strong {
      font-family: 'Playfair Display', serif;
      font-size: .95rem;
      color: var(--text);
    }

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media (max-width: 700px) {
      .hero-card { grid-template-columns: 1fr; }
      .hero-img { min-height: 180px; }
      .hero-body { padding: 22px; }
      .header-top { flex-wrap: wrap; }
      .search-input { width: 100%; }
      .search-input:focus { width: 100%; }
      .modal { padding: 28px 22px; }
      .form-modal { padding: 28px 22px; }
    }
  </style>
</head>
<body>

<!-- ‚ïê‚ïê HEADER ‚ïê‚ïê -->
<header>
  <div class="header-top">
    <div class="masthead">
      <span class="masthead-name">Le Fil</span>
      <span class="masthead-tagline">R√©sum√©s d'actualit√© ¬∑ ind√©pendant</span>
    </div>
    <div class="header-actions">
      <div class="search-wrap">
        <input class="search-input" type="search" placeholder="Rechercher‚Ä¶" id="searchInput" />
        <span class="search-icon">‚åï</span>
      </div>
      <button class="theme-btn" id="themeBtn" title="Basculer le th√®me">‚òÄÔ∏è</button>
    </div>
  </div>
  <div class="date-strip" id="dateStrip"></div>
</header>

<!-- ‚ïê‚ïê CATEGORY NAV ‚ïê‚ïê -->
<nav>
  <div class="nav-inner" id="navCats">
    <button class="cat-btn active" data-cat="Tous">Tous</button>
    <button class="cat-btn" data-cat="Politique">Politique</button>
    <button class="cat-btn" data-cat="√âconomie">√âconomie</button>
    <button class="cat-btn" data-cat="International">International</button>
    <button class="cat-btn" data-cat="Soci√©t√©">Soci√©t√©</button>
    <button class="cat-btn" data-cat="Environnement">Environnement</button>
    <button class="cat-btn" data-cat="Culture">Culture</button>
    <button class="cat-btn" data-cat="Science">Science</button>
    <button class="cat-btn" data-cat="Sport">Sport</button>
  </div>
</nav>

<!-- ‚ïê‚ïê MAIN ‚ïê‚ïê -->
<main id="mainContent">
  <!-- Hero -->
  <div id="heroZone"></div>

  <!-- Grid -->
  <div class="section-head" id="sectionHead" style="display:none">
    <h2>√Ä la une</h2>
    <div class="section-line"></div>
  </div>
  <div class="grid" id="articleGrid"></div>
  <p class="no-results" id="noResults">Aucun r√©sultat trouv√©.</p>
</main>

<!-- ‚ïê‚ïê FOOTER ‚ïê‚ïê -->
<footer>
  <strong>Le Fil</strong> &nbsp;¬∑&nbsp; R√©sum√©s r√©dig√©s √† la main &nbsp;¬∑&nbsp; ¬© 2026
</footer>

<!-- ‚ïê‚ïê ARTICLE MODAL ‚ïê‚ïê -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <button class="modal-close" id="modalClose">‚úï</button>
    <div class="modal-category" id="mCat"></div>
    <h2 class="modal-title" id="mTitle"></h2>
    <div class="modal-meta" id="mMeta"></div>
    <div class="modal-body" id="mBody"></div>
  </div>
</div>

<!-- ‚ïê‚ïê ADD ARTICLE FORM ‚ïê‚ïê -->
<button class="add-btn" id="openFormBtn" title="Ajouter un r√©sum√©">Ôºã</button>

<div class="form-overlay" id="formOverlay">
  <div class="form-modal">
    <button class="modal-close" id="formClose">‚úï</button>
    <h3>Nouveau r√©sum√©</h3>
    <div class="form-group">
      <label class="form-label" for="fTitle">Titre</label>
      <input class="form-input" id="fTitle" placeholder="Titre de l'article‚Ä¶" />
    </div>
    <div class="form-group">
      <label class="form-label" for="fCat">Cat√©gorie</label>
      <select class="form-select" id="fCat">
        <option>Politique</option>
        <option>√âconomie</option>
        <option>International</option>
        <option>Soci√©t√©</option>
        <option>Environnement</option>
        <option>Culture</option>
        <option>Science</option>
        <option>Sport</option>
      </select>
    </div>
    <div class="form-group">
      <label class="form-label" for="fSummary">R√©sum√© court</label>
      <input class="form-input" id="fSummary" placeholder="Une phrase d'accroche‚Ä¶" />
    </div>
    <div class="form-group">
      <label class="form-label" for="fBody">Contenu complet</label>
      <textarea class="form-textarea" id="fBody" placeholder="D√©taillez l'actualit√© ici‚Ä¶"></textarea>
    </div>
    <button class="submit-btn" id="submitArticle">Publier</button>
  </div>
</div>

<script>
/* ‚îÄ‚îÄ DATA ‚îÄ‚îÄ */
const EMOJIS = {
  'Politique':'üèõÔ∏è','√âconomie':'üìà','International':'üåç','Soci√©t√©':'üë•',
  'Environnement':'üåø','Culture':'üé≠','Science':'üî¨','Sport':'‚öΩ'
};

let articles = [
  {
    id: 1, cat: 'International',
    title: 'Sommet du G20 : accord historique sur la taxation des multinationales',
    summary: 'Les vingt principales √©conomies mondiales ont finalis√© un accord fixant un taux minimum d'imposition √† 15 % pour les grandes entreprises.',
    body: 'R√©unis √† New Delhi, les chefs d'√âtat et de gouvernement du G20 ont adopt√© √† l'unanimit√© un texte contraignant instaurant un imp√¥t mondial minimum de 15 % sur les b√©n√©fices des multinationales r√©alisant plus d'un milliard d'euros de chiffre d'affaires.\n\nCet accord, fruit de trois ans de n√©gociations men√©es sous l'√©gide de l'OCDE, vise √† mettre fin √† la concurrence fiscale entre √âtats et √† lutter contre les montages d'optimisation qui privaient les gouvernements de plusieurs centaines de milliards de dollars chaque ann√©e.\n\nLa mise en ≈ìuvre effective reste conditionn√©e √† la ratification par les parlements nationaux, mais les experts saluent d√©j√† une avanc√©e sans pr√©c√©dent dans la gouvernance fiscale internationale.',
    date: '17 f√©v. 2026'
  },
  {
    id: 2, cat: '√âconomie',
    title: 'Inflation : la BCE maintient ses taux directeurs stables pour le troisi√®me mois cons√©cutif',
    summary: 'Malgr√© des signaux mitig√©s sur la croissance, la Banque centrale europ√©enne a opt√© pour le statu quo lors de sa r√©union de janvier.',
    body: 'La BCE a d√©cid√© de maintenir ses trois taux directeurs inchang√©s, le taux de d√©p√¥t restant √† 2,5 %. La pr√©sidente Christine Lagarde a justifi√© cette d√©cision par la n√©cessit√© d'observer les effets des baisses pr√©c√©dentes sur l'√©conomie r√©elle avant d'agir √† nouveau.\n\nL'inflation dans la zone euro s'√©tablit √† 2,3 % en glissement annuel, l√©g√®rement au-dessus de l'objectif des 2 %. Le march√© de l'emploi demeure solide, avec un taux de ch√¥mage √† 6,1 %, un record historiquement bas pour la zone euro.',
    date: '16 f√©v. 2026'
  },
  {
    id: 3, cat: 'Environnement',
    title: 'Rapport GIEC : le point de bascule climatique pourrait √™tre atteint d√®s 2035',
    summary: 'Un rapport d'experts alerte sur l'acc√©l√©ration du r√©chauffement et pr√©conise une r√©duction imm√©diate et drastique des √©missions.',
    body: 'Le Groupe d'experts intergouvernemental sur l'√©volution du climat (GIEC) a publi√© un rapport d'√©valuation interm√©diaire alertant sur le rythme du r√©chauffement climatique, qui d√©passe les projections les plus pessimistes √©tablies en 2021.\n\nSelon les chercheurs, sans action radicale avant 2030, certains points de bascule irr√©versibles ‚Äî fonte acc√©l√©r√©e du Groenland, d√©gel du perg√©lisol sib√©rien ‚Äî pourraient √™tre franchis d√®s 2035, entra√Ænant une hausse de 3¬∞C d'ici la fin du si√®cle.',
    date: '15 f√©v. 2026'
  },
  {
    id: 4, cat: 'Soci√©t√©',
    title: 'R√©forme des retraites en France : nouvelles concertations syndicales annonc√©es',
    summary: 'Le gouvernement a ouvert une nouvelle s√©quence de dialogue avec les partenaires sociaux sur le financement √† long terme des retraites.',
    body: 'Le Premier ministre a r√©uni lundi les repr√©sentants des huit principaux syndicats et trois organisations patronales pour lancer un cycle de concertations sur l'avenir du syst√®me de retraites. La r√©forme de 2023, qui avait repouss√© l'√¢ge l√©gal √† 64 ans, reste contest√©e par plusieurs organisations.\n\nLa conf√©rence de financement aura trois mois pour rendre ses conclusions, avec la possibilit√© d'explorer diff√©rents leviers : hausse des cotisations, allongement des carri√®res ou nouvelles recettes fiscales d√©di√©es.',
    date: '14 f√©v. 2026'
  },
  {
    id: 5, cat: 'Science',
    title: 'Intelligence artificielle : DeepMind annonce une perc√©e dans la simulation des prot√©ines',
    summary: 'AlphaFold 3 peut d√©sormais pr√©dire les interactions entre prot√©ines et petites mol√©cules avec une pr√©cision in√©dite, ouvrant la voie √† de nouveaux m√©dicaments.',
    body: 'Les √©quipes de DeepMind ont publi√© dans la revue Nature les r√©sultats d'AlphaFold 3, une nouvelle version de leur syst√®me de pr√©diction de la structure des prot√©ines. L'outil est d√©sormais capable de mod√©liser non seulement les prot√©ines isol√©es, mais aussi leurs interactions avec des petites mol√©cules, des acides nucl√©iques et d'autres macromol√©cules.\n\nCette capacit√© repr√©sente un bond consid√©rable pour la d√©couverte de m√©dicaments : les chercheurs pourront tester virtuellement des milliers de compos√©s avant de r√©aliser le moindre essai en laboratoire.',
    date: '13 f√©v. 2026'
  },
  {
    id: 6, cat: 'Culture',
    title: 'C√©sar 2026 : ¬´ L'Aube tranquille ¬ª repart avec cinq troph√©es dont meilleur film',
    summary: 'Le film de Lucie Moreau s'impose lors de la 51·µâ c√©r√©monie des C√©sar, devant un parterre de com√©diens et personnalit√©s du cin√©ma fran√ßais.',
    body: 'La 51·µâ c√©r√©monie des C√©sar, pr√©sid√©e par Isabelle Huppert, a sacr√© ¬´ L'Aube tranquille ¬ª de Lucie Moreau qui a rafl√© cinq prix dont meilleur film, meilleure r√©alisatrice, meilleur acteur et meilleure actrice dans des r√¥les principaux.\n\nC'est la premi√®re fois depuis dix ans qu'un film r√©alis√© par une femme remporte √† la fois le C√©sar du meilleur film et celui de la meilleure r√©alisation, signe d'une √©volution notable du paysage cin√©matographique fran√ßais.',
    date: '12 f√©v. 2026'
  }
];

let currentCat = 'Tous';
let searchQuery = '';

/* ‚îÄ‚îÄ UTILS ‚îÄ‚îÄ */
function formatDate() {
  return new Date().toLocaleDateString('fr-FR', { weekday:'long', day:'numeric', month:'long', year:'numeric' });
}

function filtered() {
  return articles.filter(a => {
    const catOk  = currentCat === 'Tous' || a.cat === currentCat;
    const q      = searchQuery.toLowerCase();
    const textOk = !q || a.title.toLowerCase().includes(q) || a.summary.toLowerCase().includes(q) || a.cat.toLowerCase().includes(q);
    return catOk && textOk;
  });
}

/* ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ */
function render() {
  const list = filtered();
  const heroZone   = document.getElementById('heroZone');
  const grid       = document.getElementById('articleGrid');
  const noResults  = document.getElementById('noResults');
  const sectionHead = document.getElementById('sectionHead');

  heroZone.innerHTML = '';
  grid.innerHTML = '';

  if (list.length === 0) {
    noResults.style.display = 'block';
    sectionHead.style.display = 'none';
    return;
  }
  noResults.style.display = 'none';

  // Hero (first article)
  const hero = list[0];
  heroZone.innerHTML = `
    <div class="hero-card" data-id="${hero.id}">
      <div class="hero-img">
        <span class="hero-img-placeholder">${EMOJIS[hero.cat] || 'üì∞'}</span>
      </div>
      <div class="hero-body">
        <div class="hero-category">${hero.cat}</div>
        <h2 class="hero-title">${hero.title}</h2>
        <p class="hero-summary">${hero.summary}</p>
        <div class="hero-meta">
          <span>${hero.date}</span>
          <span>Lire le r√©sum√© ‚Üí</span>
        </div>
      </div>
    </div>`;

  // Grid (rest)
  if (list.length > 1) {
    sectionHead.style.display = 'flex';
    list.slice(1).forEach(a => {
      const card = document.createElement('div');
      card.className = 'card';
      card.dataset.id = a.id;
      card.innerHTML = `
        <div class="card-body">
          <div class="card-category">${a.cat}</div>
          <h3 class="card-title">${a.title}</h3>
          <p class="card-summary">${a.summary}</p>
        </div>
        <div class="card-footer">
          <span class="card-date">${a.date}</span>
          <span class="tag">${a.cat}</span>
        </div>`;
      grid.appendChild(card);
    });
  } else {
    sectionHead.style.display = 'none';
  }

  // Click handlers
  document.querySelectorAll('[data-id]').forEach(el => {
    el.addEventListener('click', () => openModal(parseInt(el.dataset.id)));
  });
}

/* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
function openModal(id) {
  const a = articles.find(x => x.id === id);
  if (!a) return;
  document.getElementById('mCat').textContent   = a.cat;
  document.getElementById('mTitle').textContent = a.title;
  document.getElementById('mMeta').textContent  = a.date;
  document.getElementById('mBody').innerHTML    =
    a.body.split('\n').filter(Boolean).map(p => `<p>${p}</p>`).join('');
  document.getElementById('modalOverlay').classList.add('open');
}
document.getElementById('modalClose').addEventListener('click', () =>
  document.getElementById('modalOverlay').classList.remove('open'));
document.getElementById('modalOverlay').addEventListener('click', e => {
  if (e.target === document.getElementById('modalOverlay'))
    document.getElementById('modalOverlay').classList.remove('open');
});

/* ‚îÄ‚îÄ FORM ‚îÄ‚îÄ */
document.getElementById('openFormBtn').addEventListener('click', () =>
  document.getElementById('formOverlay').classList.add('open'));
document.getElementById('formClose').addEventListener('click', () =>
  document.getElementById('formOverlay').classList.remove('open'));
document.getElementById('formOverlay').addEventListener('click', e => {
  if (e.target === document.getElementById('formOverlay'))
    document.getElementById('formOverlay').classList.remove('open');
});

document.getElementById('submitArticle').addEventListener('click', () => {
  const title   = document.getElementById('fTitle').value.trim();
  const cat     = document.getElementById('fCat').value;
  const summary = document.getElementById('fSummary').value.trim();
  const body    = document.getElementById('fBody').value.trim();
  if (!title || !summary) { alert('Le titre et le r√©sum√© court sont obligatoires.'); return; }
  const today = new Date().toLocaleDateString('fr-FR', { day:'numeric', month:'short', year:'numeric' });
  articles.unshift({ id: Date.now(), cat, title, summary, body: body || summary, date: today });
  document.getElementById('formOverlay').classList.remove('open');
  ['fTitle','fSummary','fBody'].forEach(id => document.getElementById(id).value = '');
  // Reset to show all so new article is visible
  currentCat = 'Tous';
  document.querySelectorAll('.cat-btn').forEach(b => b.classList.toggle('active', b.dataset.cat === 'Tous'));
  render();
});

/* ‚îÄ‚îÄ CATEGORIES ‚îÄ‚îÄ */
document.getElementById('navCats').addEventListener('click', e => {
  const btn = e.target.closest('.cat-btn');
  if (!btn) return;
  currentCat = btn.dataset.cat;
  document.querySelectorAll('.cat-btn').forEach(b => b.classList.toggle('active', b === btn));
  render();
});

/* ‚îÄ‚îÄ SEARCH ‚îÄ‚îÄ */
document.getElementById('searchInput').addEventListener('input', e => {
  searchQuery = e.target.value;
  render();
});

/* ‚îÄ‚îÄ THEME ‚îÄ‚îÄ */
const themeBtn = document.getElementById('themeBtn');
themeBtn.addEventListener('click', () => {
  const isDark = document.documentElement.dataset.theme === 'dark';
  document.documentElement.dataset.theme = isDark ? 'light' : 'dark';
  themeBtn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
});

/* ‚îÄ‚îÄ INIT ‚îÄ‚îÄ */
document.getElementById('dateStrip').textContent = formatDate();
render();
</script>
</body>
</html>
